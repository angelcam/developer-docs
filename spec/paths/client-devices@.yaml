get:
  operationId: client-device-list
  summary: Retrieve list of devices owned by user
  tags:
    - client-device
  security:
    - OAuth2-accessCode:
        - client_devices_access
    - OAuth2-passwordGrant:
        - client_devices_access
    - PersonalAccessToken: []
  responses:
    '200':
      description: OK
      schema:
        $ref: '#/definitions/ClientDeviceListObject'
    '401':
      $ref: '#/responses/Error401Unauthorized'
    '403':
      $ref: '#/responses/Error403PermissionDenied'
post:
  operationId: client-device-create
  summary: Create new device
  tags:
    - client-device
  security:
    - OAuth2-accessCode:
        - client_devices_manage
    - OAuth2-passwordGrant:
        - client_devices_manage
    - PersonalAccessToken: []
  parameters:
    - in: body
      name: device
      schema:
        type: object
        properties:
          name:
            type:
              - string
              - 'null'
            description: Human readable device name
            example: iPhone 5
          platform:
            type: string
            enum:
              - ios
              - android
              - web
          fcm_token:
            type:
              - string
              - 'null'
            description: >-
              Firebase Cloud Messaging registration token used for sending push
              notifications
            example: lm5s16hzr7
        required:
          - platform
  responses:
    '201':
      description: CREATED
      schema:
        $ref: '#/definitions/ClientDeviceObject'
    '400':
      $ref: '#/responses/Error400InvalidParams'
    '401':
      $ref: '#/responses/Error401Unauthorized'
    '403':
      $ref: '#/responses/Error403PermissionDenied'
